<!-- templates/index.html (adjusted with all modals) -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SociaFam</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="nav-bar">
        <button id="homeBtn"><i class="fa fa-home"></i></button>
        <button id="reelsBtn"><i class="fa fa-video"></i></button>
        <button id="friendsBtn"><i class="fa fa-users"></i></button>
        <button id="inboxBtn"><i class="fa fa-envelope"></i></button>
        <button id="profileBtn"><i class="fa fa-user"></i></button>
        <button id="searchBtn"><i class="fa fa-search"></i></button>
        <button id="addBtn"><i class="fa fa-plus"></i></button>
        <button id="notifBtn"><i class="fa fa-bell"></i></button>
        <button id="menuBtn"><i class="fa fa-bars"></i></button>
        <button id="adminBtn" style="display:none;"><i class="fa fa-shield-alt"></i></button>
    </div>
    <div id="content">Loading...</div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('loginModal')">&times;</span>
            <form id="loginForm">
                <input id="loginIdentifier" type="text" placeholder="Username/Email" required>
                <input id="loginPassword" type="password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <button onclick="showModal('registerModal'); hideModal('loginModal')">Register</button>
            <button onclick="showModal('forgotModal'); hideModal('loginModal')">Forgot Password</button>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('registerModal')">&times;</span>
            <form id="registerForm">
                <input id="regUsername" type="text" placeholder="Username" required>
                <input id="regPassword" type="password" placeholder="Password" required>
                <button type="submit">Register</button>
            </form>
        </div>
    </div>

    <!-- Forgot Modal -->
    <div id="forgotModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('forgotModal')">&times;</span>
            <form id="forgotForm">
                <input id="forgotUsername" type="text" placeholder="Username" required>
                <input id="forgotKey" type="text" placeholder="Unique Key" required>
                <button type="submit">Submit</button>
            </form>
        </div>
    </div>

    <!-- Reset Modal -->
    <div id="resetModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('resetModal')">&times;</span>
            <form id="resetForm">
                <input id="newPassword" type="password" placeholder="New Password" required>
                <button type="submit">Reset</button>
            </form>
        </div>
    </div>

    <!-- Add Content Modal -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('addModal')">&times;</span>
            <form id="addForm">
                <select id="addType">
                    <option value="post">Post</option>
                    <option value="reel">Reel</option>
                    <option value="story">Story</option>
                </select>
                <textarea id="addDescription" placeholder="Description"></textarea>
                <input id="addMedia" type="file" accept="image/*,video/*">
                <button type="submit">Post</button>
            </form>
        </div>
    </div>

    <!-- Story Modal -->
    <div id="storyModal" class="modal" style="background-color: black;">
        <div id="storyView" style="height:100vh;"></div>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" class="modal">
        <div class="modal-content" style="width:100%; max-width: none; margin:0; height:100%; border-radius:0; padding:0;">
            <div id="chatHeader" style="display:flex; align-items:center; padding:10px; border-bottom:1px solid #ddd;"></div>
            <div id="chatMessages" style="flex:1; overflow-y:auto;"></div>
            <div id="chatInputArea">
                <i class="fa fa-smile" onclick="alert('Stickers')"></i>
                <i class="fa fa-paperclip" onclick="alert('Attach')"></i>
                <i class="fa fa-camera" onclick="alert('Camera')"></i>
                <i class="fa fa-microphone" onclick="alert('Audio')"></i>
                <input id="chatInput" type="text" placeholder="Message...">
                <button onclick="sendChat()"><i class="fa fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <!-- Chat Dropdown Modal -->
    <div id="chatDropdownModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('chatDropdownModal')">&times;</span>
            <div id="chatDropdownContent"></div>
        </div>
    </div>

    <!-- Comment Modal -->
    <div id="commentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('commentModal')">&times;</span>
            <div id="commentList"></div>
            <form id="commentForm">
                <input id="commentText" type="text" placeholder="Comment..." required>
                <button type="submit">Send</button>
            </form>
        </div>
    </div>

    <!-- Profile Edit Modal -->
    <div id="profileEditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('profileEditModal')">&times;</span>
            <form id="profileEditForm">
                <input id="editRealName" type="text" placeholder="Real Name">
                <textarea id="editBio" placeholder="Bio"></textarea>
                <!-- Add more fields: email, phone, etc. -->
                <button type="submit">Save</button>
            </form>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('changePasswordModal')">&times;</span>
            <form id="changePasswordForm">
                <input id="oldPassword" type="password" placeholder="Old Password" required>
                <input id="newPasswordChange" type="password" placeholder="New Password" required>
                <button type="submit">Change</button>
            </form>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('settingsModal')">&times;</span>
            <h3>Privacy</h3>
            <!-- Radio buttons for privacy -->
            <h3>Notifications</h3>
            <!-- Checkboxes -->
            <h3>Theme</h3>
            <select onchange="applyTheme(this.value)">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
            </select>
            <button onclick="showModal('changePasswordModal')">Change Password</button>
            <button onclick="showBlocked()">Blocked</button>
        </div>
    </div>

    <!-- Blocked Modal -->
    <div id="blockedModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('blockedModal')">&times;</span>
            <div id="blockedList"></div>
        </div>
    </div>

    <!-- Support Modal -->
    <div id="supportModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('supportModal')">&times;</span>
            <textarea placeholder="Message to admin"></textarea>
            <button onclick="sendSupport()">Send</button>
        </div>
    </div>

    <!-- Group Create Modal -->
    <div id="groupCreateModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('groupCreateModal')">&times;</span>
            <form id="groupCreateForm">
                <input id="groupName" type="text" placeholder="Group Name" required>
                <textarea id="groupDescription" placeholder="Description"></textarea>
                <input type="file" accept="image/*">
                <button type="submit">Create</button>
            </form>
        </div>
    </div>

    <!-- Group Edit Modal -->
    <div id="groupEditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('groupEditModal')">&times;</span>
            <form id="groupEditForm">
                <input id="editGroupName" type="text" placeholder="Group Name">
                <textarea id="editGroupDescription" placeholder="Description"></textarea>
                <button type="submit">Save</button>
            </form>
        </div>
    </div>

    <!-- Report Modal -->
    <div id="reportModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('reportModal')">&times;</span>
            <form id="reportForm">
                <textarea placeholder="Reason" required></textarea>
                <button type="submit">Report</button>
            </form>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
