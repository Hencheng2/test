<!-- templates/index.html (adjusted with all modals) -->
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>SociaFam</title><link rel="stylesheet" href="https://www.google.com/search?q=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"><link rel="stylesheet" href="/static/style.css"></head><body><div class="nav-bar"><button id="homeBtn" class="nav-button"><i class="fa fa-home"></i></button><button id="reelsBtn" class="nav-button"><i class="fa fa-video"></i></button><button id="friendsBtn" class="nav-button"><i class="fa fa-users"></i></button><button id="inboxBtn" class="nav-button"><i class="fa fa-envelope"></i></button><button id="profileBtn" class="nav-button"><i class="fa fa-user"></i></button><button id="searchBtn" class="nav-button"><i class="fa fa-search"></i></button><button id="addBtn" class="nav-button"><i class="fa fa-plus"></i></button><button id="notifBtn" class="nav-button"><i class="fa fa-bell"></i></button><button id="menuBtn" class="nav-button"><i class="fa fa-bars"></i></button><button id="adminBtn" class="nav-button" style="display:none;"><i class="fa fa-shield-alt"></i></button></div><div id="content">Loading...</div><!-- Modals -->

<!-- Login/Register Modal -->
<div id="authModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="hideModal('authModal')">&times;</span>
        <div id="loginFormContainer">
            <h2>Login</h2>
            <form id="loginForm">
                <input id="loginUsername" type="text" placeholder="Username" required>
                <input id="loginPassword" type="password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <p>Don't have an account? <a href="#" id="showRegister">Register</a></p>
        </div>
        <div id="registerFormContainer" style="display:none;">
            <h2>Register</h2>
            <form id="registerForm">
                <input id="registerUsername" type="text" placeholder="Username" required>
                <input id="registerRealName" type="text" placeholder="Full Name" required>
                <input id="registerEmail" type="email" placeholder="Email" required>
                <input id="registerPassword" type="password" placeholder="Password" required>
                <button type="submit">Register</button>
            </form>
            <p>Already have an account? <a href="#" id="showLogin">Login</a></p>
        </div>
    </div>
</div>

<!-- Add Post/Reel/Story Modal -->
<div id="addModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="hideModal('addModal')">&times;</span>
        <h2>Create Content</h2>
        <div class="tab-buttons">
            <button id="showPostTab">Post</button>
            <button id="showReelTab">Reel</button>
            <button id="showStoryTab">Story</button>
        </div>
        <div id="postTab" class="content-tab">
            <form id="postForm">
                <textarea name="content" placeholder="What's on your mind?"></textarea>
                <input type="file" name="media" accept="image/*">
                <button type="submit">Post</button>
            </form>
        </div>
        <div id="reelTab" class="content-tab" style="display:none;">
            <form id="reelForm">
                <textarea name="content" placeholder="Reel caption"></textarea>
                <input type="file" name="media" accept="video/*" required>
                <button type="submit">Post Reel</button>
            </form>
        </div>
        <div id="storyTab" class="content-tab" style="display:none;">
            <form id="storyForm">
                <input type="file" name="media" accept="image/*,video/*" required>
                <button type="submit">Add Story</button>
            </form>
        </div>
    </div>
</div>

<!-- Story View Modal -->
<div id="storyViewModal" class="modal">
    <div class="modal-content-story">
        <div id="storyViewContainer"></div>
        <span class="close-story" onclick="hideModal('storyViewModal')">&times;</span>
    </div>
</div>

<!-- Chat Modal (DM and Group) -->
<div id="chatModal" class="modal">
    <div class="modal-content-chat">
        <span class="close-chat" onclick="hideModal('chatModal')">&times;</span>
        <div id="chatHeader">
            <img id="chatProfilePic" src="" alt="Profile" class="profile-pic">
            <h3 id="chatName"></h3>
            <div id="chatActions"></div>
        </div>
        <div id="chatMessages"></div>
        <form id="chatForm">
            <input id="chatInput" type="text" placeholder="Type a message...">
            <button type="submit"><i class="fa fa-paper-plane"></i></button>
        </form>
    </div>
</div>

<!-- Profile Edit Modal -->
<div id="profileEditModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="hideModal('profileEditModal')">&times;</span>
        <form id="profileEditForm">
            <img id="profileEditPic" src="" alt="Current Profile Pic" class="profile-pic">
            <input type="file" name="profile_pic" accept="image/*">
            <textarea name="bio" placeholder="Update your bio"></textarea>
            <button type="submit">Save</button>
        </form>
    </div>
</div>

<!-- Group Create Modal -->
<div id="groupCreateModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="hideModal('groupCreateModal')">&times;</span>
        <form id="groupCreateForm">
            <input id="groupName" type="text" placeholder="Group Name" required>
            <textarea id="groupDescription" placeholder="Description"></textarea>
            <button type="submit">Create</button>
        </form>
    </div>
</div>

<!-- Report Modal -->
<div id="reportModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="hideModal('reportModal')">&times;</span>
        <form id="reportForm">
            <textarea id="reportReason" placeholder="Reason" required></textarea>
            <button type="submit">Report</button>
        </form>
    </div>
</div>

<script src="/static/script.js"></script>
</body></html>
