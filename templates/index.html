<!-- templates/index.html (adjusted with all modals) -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SociaFam</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="nav-bar">
        <button id="homeBtn" class="nav-button"><i class="fa fa-home"></i></button>
        <button id="reelsBtn" class="nav-button"><i class="fa fa-video"></i></button>
        <button id="friendsBtn" class="nav-button"><i class="fa fa-users"></i></button>
        <button id="inboxBtn" class="nav-button"><i class="fa fa-envelope"></i></button>
        <button id="profileBtn" class="nav-button"><i class="fa fa-user"></i></button>
        <button id="searchBtn" class="nav-button"><i class="fa fa-search"></i></button>
        <button id="notifBtn" class="nav-button"><i class="fa fa-bell"></i></button>
        <button id="addBtn" class="nav-button"><i class="fa fa-plus-square"></i></button>
        <button id="menuBtn" class="nav-button"><i class="fa fa-bars"></i></button>
        <button id="adminBtn" class="nav-button" style="display:none;"><i class="fa fa-shield-alt"></i></button>
    </div>
    
    <div id="content">Loading...</div>

    <!-- Modals -->
    <!-- Add Modal -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('addModal')">&times;</span>
            <h3>Add Content</h3>
            <div id="add-form-container">
                <form id="postForm">
                    <h4>Create a Post</h4>
                    <input type="file" name="media" accept="image/*,video/*" required>
                    <textarea name="description" placeholder="Description"></textarea>
                    <button type="submit">Share Post</button>
                </form>
                <hr style="margin: 20px 0;">
                <form id="reelForm">
                    <h4>Create a Reel</h4>
                    <input type="file" name="media" accept="video/*" required>
                    <textarea name="description" placeholder="Description"></textarea>
                    <button type="submit">Share Reel</button>
                </form>
                <hr style="margin: 20px 0;">
                <form id="storyForm">
                    <h4>Create a Story</h4>
                    <input type="file" name="media" accept="image/*,video/*" required>
                    <button type="submit">Share Story</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Story Modal (for viewing full-screen stories) -->
    <div id="storyModal" class="modal">
        <div class="modal-content story-modal-content">
            <!-- Story content will be loaded here by JS -->
        </div>
    </div>

    <!-- Comment Modal -->
    <div id="commentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('commentModal')">&times;</span>
            <h3>Comments</h3>
            <div id="comments-list"></div>
            <form id="commentForm">
                <input type="text" name="text" placeholder="Add a comment..." required>
                <button type="submit">Post</button>
            </form>
        </div>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('chatModal')">&times;</span>
            <h3>Chat</h3>
            <div id="chat-messages"></div>
            <form id="chatForm">
                <input type="text" name="text" placeholder="Type a message..." required>
                <button type="submit">Send</button>
            </form>
        </div>
    </div>

    <!-- Group Create Modal -->
    <div id="groupCreateModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('groupCreateModal')">&times;</span>
            <h3>Create a Group</h3>
            <form id="groupCreateForm">
                <input id="groupName" type="text" placeholder="Group Name" required>
                <textarea id="groupDescription" placeholder="Description"></textarea>
                <button type="submit">Create</button>
            </form>
        </div>
    </div>

    <!-- Group Edit Modal -->
    <div id="groupEditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('groupEditModal')">&times;</span>
            <h3>Edit Group</h3>
            <form id="groupEditForm">
                <input id="editGroupName" type="text" placeholder="Group Name">
                <textarea id="editGroupDescription" placeholder="Description"></textarea>
                <button type="submit">Save</button>
            </form>
        </div>
    </div>

    <!-- Profile Edit Modal -->
    <div id="profileEditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('profileEditModal')">&times;</span>
            <h3>Edit Profile</h3>
            <form id="profileEditForm">
                <label for="profile_pic">Profile Picture</label>
                <input type="file" id="profile_pic" name="profile_pic" accept="image/*">
                <label for="bio">Bio</label>
                <textarea id="bio" name="bio" placeholder="Tell us about yourself..."></textarea>
                <button type="submit">Save</button>
            </form>
        </div>
    </div>
    
    <!-- Report Modal -->
    <div id="reportModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('reportModal')">&times;</span>
            <h3>Report Content</h3>
            <form id="reportForm">
                <textarea placeholder="Reason for report" required></textarea>
                <button type="submit">Report</button>
            </form>
        </div>
    </div>

    <!-- Custom message box to replace alerts -->
    <div id="messageBox" style="display:none; position:fixed; bottom:80px; left:50%; transform:translateX(-50%); background-color:rgba(0,0,0,0.7); color:white; padding:10px 20px; border-radius:5px; z-index:9999;"></div>

    <script src="/static/script.js"></script>
</body>
</html>
