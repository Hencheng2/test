<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SociaFam</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <div id="content"><p>Loading...</p></div>

    <div class="nav-bar">
        <button id="homeBtn" class="nav-button"><i class="fa fa-home"></i></button>
        <button id="reelsBtn" class="nav-button"><i class="fa fa-video"></i></button>
        <button id="friendsBtn" class="nav-button"><i class="fa fa-users"></i></button>
        <button id="inboxBtn" class="nav-button"><i class="fa fa-envelope"></i></button>
        <button id="profileBtn" class="nav-button"><i class="fa fa-user"></i></button>
        <button id="searchBtn" class="nav-button"><i class="fa fa-search"></i></button>
        <button id="addBtn" class="nav-button"><i class="fa fa-plus"></i></button>
        <button id="notifBtn" class="nav-button"><i class="fa fa-bell"></i></button>
        <button id="menuBtn" class="nav-button"><i class="fa fa-bars"></i></button>
        <button id="adminBtn" class="nav-button" style="display:none;"><i class="fa fa-shield-alt"></i></button>
    </div>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <h2>SociaFam</h2>
            <input type="text" id="loginIdentifier" placeholder="Username or Email">
            <input type="password" id="loginPassword" placeholder="Password">
            <button onclick="login()">Login</button>
            <p onclick="showModal('registerModal')">Create an account</p>
            <p onclick="showModal('forgotModal')">Forgot password?</p>
        </div>
    </div>

    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('registerModal')">&times;</span>
            <h2>Register</h2>
            <input type="text" id="registerUsername" placeholder="Username">
            <input type="password" id="registerPassword" placeholder="Password">
            <button onclick="register()">Register</button>
        </div>
    </div>

    <div id="forgotModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('forgotModal')">&times;</span>
            <h2>Forgot Password</h2>
            <input type="text" id="forgotUsername" placeholder="Username">
            <input type="text" id="forgotUniqueKey" placeholder="Unique Key">
            <button onclick="verifyKey()">Verify</button>
        </div>
    </div>

    <div id="resetModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('resetModal')">&times;</span>
            <h2>Reset Password</h2>
            <input type="password" id="resetPassword" placeholder="New Password">
            <button onclick="resetPassword()">Reset</button>
        </div>
    </div>

    <div id="addModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('addModal')">&times;</span>
            <h2>Add Content</h2>
            <select id="addType">
                <option value="post">Post</option>
                <option value="reel">Reel</option>
                <option value="story">Story</option>
            </select>
            <input type="file" id="addMedia" accept="image/*,video/*,audio/*">
            <textarea id="addDescription" placeholder="Description"></textarea>
            <select id="addPrivacy">
                <option value="all">All</option>
                <option value="friends">Friends Only</option>
            </select>
            <button onclick="createPost()">Post</button>
        </div>
    </div>

    <div id="storyModal" class="modal" style="background-color: black;">
        <div class="story-view" id="storyView"></div>
    </div>
    
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <div id="profileContent"></div>
        </div>
    </div>

    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('editProfileModal')">&times;</span>
            <h2>Edit Profile</h2>
            <div id="editProfileContent"></div>
        </div>
    </div>

    <div id="chatModal" class="modal">
        <div class="modal-content chat-modal-content">
            <div id="chatHeader" class="chat-header"></div>
            <div id="chatContent" class="chat-content"></div>
            <div class="chat-input-area">
                <input id="chatInput" placeholder="Type message">
                <button id="chatSendBtn">Send</button>
            </div>
        </div>
    </div>

    <div id="createGroupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideModal('createGroupModal')">&times;</span>
            <h2>Create Group</h2>
            <input type="text" id="groupName" placeholder="Group Name">
            <textarea id="groupDescription" placeholder="Group Description"></textarea>
            <input type="file" id="groupProfilePic" accept="image/*">
            <button onclick="createGroup()">Create</button>
        </div>
    </div>
    
    <script src="/static/script.js"></script>
</body>
</html>
